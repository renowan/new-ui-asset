import{_ as K}from"./Button.36fc2aa3.js";import{_ as j}from"./ZbButton.56a8403c.js";import{F as Z,w as $,h as q,o as h,c as H,u as Q,l as V,H as O,t as N,p as G,N as B,a as g,v as J,b as E,_ as F,O as W}from"./use-outside-click.90adcbe2.js";import{p as Y,b as X,u as ee,x as te,a as x}from"./use-text-value.e44de2f9.js";import{b as oe}from"./use-resolve-button-type.5b5b9fb2.js";import{f as D,s as k,i as S,G as le,H as ne,L as ae,K as se,M as R,N as ie,o as w,y as C,w as T,b as _,z as I,c as L,n as ue,a as d,F as re,x as ce,t as de,q as me,A as M}from"./entry.17825305.js";import{_ as pe}from"./ZbSelect.vue.85980a37.js";import"./Icon.bc1f476f.js";import"./nuxt-link.545bc04a.js";import"./_baseIsEqual.2ea895e4.js";import"./index.a9ae74f2.js";import"./ZbIcon.vue.119874a2.js";import"./appConfig.c8caa554.js";var ve=(o=>(o[o.Open=0]="Open",o[o.Closed=1]="Closed",o))(ve||{}),fe=(o=>(o[o.Pointer=0]="Pointer",o[o.Other=1]="Other",o))(fe||{});function be(o){requestAnimationFrame(()=>requestAnimationFrame(o))}let U=Symbol("MenuContext");function A(o){let m=ie(U,null);if(m===null){let f=new Error(`<${o} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,A),f}return m}let ge=D({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(o,{slots:m,attrs:f}){let a=k(1),e=k(null),p=k(null),s=k([]),v=k(""),i=k(null),l=k(1);function t(u=r=>r){let r=i.value!==null?s.value[i.value]:null,c=W(u(s.value.slice()),y=>h(y.dataRef.domRef)),n=r?c.indexOf(r):null;return n===-1&&(n=null),{items:c,activeItemIndex:n}}let b={menuState:a,buttonRef:e,itemsRef:p,items:s,searchQuery:v,activeItemIndex:i,activationTrigger:l,closeMenu:()=>{a.value=1,i.value=null},openMenu:()=>a.value=0,goToItem(u,r,c){let n=t(),y=te(u===x.Specific?{focus:x.Specific,id:r}:{focus:u},{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:P=>P.id,resolveDisabled:P=>P.dataRef.disabled});v.value="",i.value=y,l.value=c??1,s.value=n.items},search(u){let r=v.value!==""?0:1;v.value+=u.toLowerCase();let c=(i.value!==null?s.value.slice(i.value+r).concat(s.value.slice(0,i.value+r)):s.value).find(y=>y.dataRef.textValue.startsWith(v.value)&&!y.dataRef.disabled),n=c?s.value.indexOf(c):-1;n===-1||n===i.value||(i.value=n,l.value=1)},clearSearch(){v.value=""},registerItem(u,r){let c=t(n=>[...n,{id:u,dataRef:r}]);s.value=c.items,i.value=c.activeItemIndex,l.value=1},unregisterItem(u){let r=t(c=>{let n=c.findIndex(y=>y.id===u);return n!==-1&&c.splice(n,1),c});s.value=r.items,i.value=r.activeItemIndex,l.value=1}};return Z([e,p],(u,r)=>{var c;b.closeMenu(),$(r,q.Loose)||(u.preventDefault(),(c=h(e))==null||c.focus())},S(()=>a.value===0)),le(U,b),H(S(()=>Q(a.value,{[0]:V.Open,[1]:V.Closed}))),()=>{let u={open:a.value===0,close:b.closeMenu};return O({ourProps:{},theirProps:o,slot:u,slots:m,attrs:f,name:"Menu"})}}}),he=D({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${N()}`}},setup(o,{attrs:m,slots:f,expose:a}){let e=A("MenuButton");a({el:e.buttonRef,$el:e.buttonRef});function p(l){switch(l.key){case g.Space:case g.Enter:case g.ArrowDown:l.preventDefault(),l.stopPropagation(),e.openMenu(),R(()=>{var t;(t=h(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(x.First)});break;case g.ArrowUp:l.preventDefault(),l.stopPropagation(),e.openMenu(),R(()=>{var t;(t=h(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(x.Last)});break}}function s(l){switch(l.key){case g.Space:l.preventDefault();break}}function v(l){o.disabled||(e.menuState.value===0?(e.closeMenu(),R(()=>{var t;return(t=h(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(l.preventDefault(),e.openMenu(),be(()=>{var t;return(t=h(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let i=oe(S(()=>({as:o.as,type:m.type})),e.buttonRef);return()=>{var l;let t={open:e.menuState.value===0},{id:b,...u}=o,r={ref:e.buttonRef,id:b,type:i.value,"aria-haspopup":"menu","aria-controls":(l=h(e.itemsRef))==null?void 0:l.id,"aria-expanded":o.disabled?void 0:e.menuState.value===0,onKeydown:p,onKeyup:s,onClick:v};return O({ourProps:r,theirProps:u,slot:t,attrs:m,slots:f,name:"MenuButton"})}}}),ye=D({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${N()}`}},setup(o,{attrs:m,slots:f,expose:a}){let e=A("MenuItems"),p=k(null);a({el:e.itemsRef,$el:e.itemsRef}),Y({container:S(()=>h(e.itemsRef)),enabled:S(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function s(t){var b;switch(p.value&&clearTimeout(p.value),t.key){case g.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case g.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let u=e.items.value[e.activeItemIndex.value];(b=h(u.dataRef.domRef))==null||b.click()}e.closeMenu(),F(h(e.buttonRef));break;case g.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(x.Next);case g.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(x.Previous);case g.Home:case g.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(x.First);case g.End:case g.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(x.Last);case g.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>{var u;return(u=h(e.buttonRef))==null?void 0:u.focus({preventScroll:!0})});break;case g.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>J(h(e.buttonRef),t.shiftKey?E.Previous:E.Next));break;default:t.key.length===1&&(e.search(t.key),p.value=setTimeout(()=>e.clearSearch(),350));break}}function v(t){switch(t.key){case g.Space:t.preventDefault();break}}let i=G(),l=S(()=>i!==null?(i.value&V.Open)===V.Open:e.menuState.value===0);return()=>{var t,b;let u={open:e.menuState.value===0},{id:r,...c}=o,n={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(b=h(e.buttonRef))==null?void 0:b.id,id:r,onKeydown:s,onKeyup:v,role:"menu",tabIndex:0,ref:e.itemsRef};return O({ourProps:n,theirProps:c,slot:u,attrs:m,slots:f,features:B.RenderStrategy|B.Static,visible:l.value,name:"MenuItems"})}}}),_e=D({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${N()}`}},setup(o,{slots:m,attrs:f,expose:a}){let e=A("MenuItem"),p=k(null);a({el:p,$el:p});let s=S(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===o.id:!1),v=X(p),i=S(()=>({disabled:o.disabled,get textValue(){return v()},domRef:p}));ne(()=>e.registerItem(o.id,i)),ae(()=>e.unregisterItem(o.id)),se(()=>{e.menuState.value===0&&s.value&&e.activationTrigger.value!==0&&R(()=>{var n,y;return(y=(n=h(p))==null?void 0:n.scrollIntoView)==null?void 0:y.call(n,{block:"nearest"})})});function l(n){if(o.disabled)return n.preventDefault();e.closeMenu(),F(h(e.buttonRef))}function t(){if(o.disabled)return e.goToItem(x.Nothing);e.goToItem(x.Specific,o.id)}let b=ee();function u(n){b.update(n)}function r(n){b.wasMoved(n)&&(o.disabled||s.value||e.goToItem(x.Specific,o.id,0))}function c(n){b.wasMoved(n)&&(o.disabled||s.value&&e.goToItem(x.Nothing))}return()=>{let{disabled:n}=o,y={active:s.value,disabled:n,close:e.closeMenu},{id:P,...z}=o;return O({ourProps:{id:P,ref:p,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:l,onFocus:t,onPointerenter:u,onMouseenter:u,onPointermove:r,onMousemove:r,onPointerleave:c,onMouseleave:c},theirProps:{...f,...z},slot:y,attrs:f,slots:m,name:"MenuItem"})}}});const xe={class:"relative focus:outline-none overflow-y-auto scroll-py-1 divide-y divide-gray-200 dark:divide-gray-700 ring-1 ring-gray-200 dark:ring-gray-700 rounded shadow-lg bg-white dark:bg-gray-800 bg-white"},Ie={class:"p-1",role:"none"},ke=["onClick"],Se=D({__name:"ZbDropdown",props:{options:{type:Array,default:()=>[]},optionsLabel:{type:String,default:"label"},label:{type:String,default:"label"},iconName:{type:String,default:""},mode:{type:String,default:"click",validator:o=>["click","hover"].includes(o)},disabled:{type:Boolean,default:!1},rightAlignedMenu:{type:Boolean,default:!1}},emits:["onClick"],setup(o,{emit:m}){const f=o,a=p=>{m("onClick",p)},e=S(()=>f.rightAlignedMenu?"right-0 left-auto":"");return(p,s)=>{const v=K,i=j;return w(),C(I(ge),{as:"div",class:"relative"},{default:T(({open:l})=>[_(I(he),{as:"div"},{default:T(()=>[o.iconName?(w(),C(v,{key:0,color:"gray",label:"",variant:"ghost",icon:o.iconName},null,8,["icon"])):(w(),C(i,{key:1,color:"white",label:o.label,"trailing-icon":"i-heroicons-chevron-down-20-solid"},null,8,["label"]))]),_:1}),l&&o.options.length?(w(),L("div",{key:0,class:ue(["z-20 w-48 pt-1 absolute",I(e)])},[_(I(ye),null,{default:T(()=>[d("div",xe,[d("div",Ie,[(w(!0),L(re,null,ce(o.options,(t,b)=>(w(),C(I(_e),{key:b,static:""},{default:T(()=>[d("button",{class:"group flex items-center gap-2 w-full px-2 py-1.5 text-sm rounded text-gray-700 dark:text-gray-200 hover:bg-gray-100",onClick:u=>a(t)},de(t[f.optionsLabel]),9,ke)]),_:2},1024))),128))])])]),_:1})],2)):me("",!0)]),_:1})}}}),we={class:"p-6 flex flex-1 flex-col"},Me=d("h1",{class:"mb-12 text-4xl font-semibold"},"Tabs",-1),Re={class:"mb-12"},Pe={class:"mb-6"},De=d("p",{class:"text-sm text-gray-600 mb-1"},"通常ドロップダウン",-1),Ce={class:"mb-6"},Te=d("p",{class:"text-sm text-gray-600 mb-1"},"label, valueを変える",-1),Ve={class:"mb-6"},Oe=d("p",{class:"text-sm text-gray-600 mb-1"},"プルダウンを左側に表示する（バグあり）",-1),Ae={class:"mb-6"},Le=d("p",{class:"text-sm text-gray-600 mb-1"},"アイコンのみのパターン",-1),Ne={class:"mb-6"},Be=d("p",{class:"text-sm text-gray-600 mb-1"},"ネイティブSelect。優先的に使う",-1),Ee={class:"flex"},Fe={class:"mb-6"},Ue=d("p",{class:"text-sm text-gray-600 mb-1"},"色パターン（バグあり）",-1),ze={class:"flex"},Ke={class:"mb-6"},je={class:"mb-6"},Ze=d("p",{class:"text-sm text-gray-600 mb-1"},"Size",-1),$e={class:"flex"},at={__name:"dropdown",setup(o){const m=[{label:"Documentation",value:"i-heroicons-book-open"},{label:"Status",value:"i-heroicons-signal"},{label:"Documentation",value:"i-heroicons-book-open"},{label:"Status",value:"i-heroicons-signal"}],f=[{myLabel:"Documentation",icon:"i-heroicons-book-open"},{myLabel:"Status",icon:"i-heroicons-signal"},{myLabel:"Documentation",icon:"i-heroicons-book-open"},{myLabel:"Status",icon:"i-heroicons-signal"}],a=k(""),e=p=>{console.log("dosome",p)};return(p,s)=>{const v=Se,i=pe;return w(),L("div",we,[Me,d("div",Re,[d("div",Pe,[De,_(v,{options:m,onOnClick:e})]),d("div",Ce,[Te,_(v,{options:f,"options-label":"myLabel",onOnClick:e})]),d("div",Ve,[Oe,_(v,{class:"mr-1",options:f,"options-label":"myLabel","right-aligned-menu":!0,onOnClick:e})]),d("div",Ae,[Le,_(v,{"icon-name":"i-heroicons-ellipsis-horizontal",options:m,"right-aligned-menu":!0,onOnClick:e})]),d("div",Ne,[Be,d("div",Ee,[_(i,{modelValue:I(a),"onUpdate:modelValue":s[0]||(s[0]=l=>M(a)?a.value=l:null),options:m,class:"w-32"},null,8,["modelValue"])])]),d("div",Fe,[Ue,d("div",ze,[_(i,{modelValue:I(a),"onUpdate:modelValue":s[1]||(s[1]=l=>M(a)?a.value=l:null),options:m,class:"w-32 mb-2 mr-2",color:"red"},null,8,["modelValue"]),_(i,{modelValue:I(a),"onUpdate:modelValue":s[2]||(s[2]=l=>M(a)?a.value=l:null),options:m,class:"w-32 mb-2",color:"blue"},null,8,["modelValue"])])]),d("div",Ke,[d("div",je,[Ze,d("div",$e,[_(i,{modelValue:I(a),"onUpdate:modelValue":s[3]||(s[3]=l=>M(a)?a.value=l:null),options:m,class:"w-32 mb-2 mr-2"},null,8,["modelValue"]),_(i,{modelValue:I(a),"onUpdate:modelValue":s[4]||(s[4]=l=>M(a)?a.value=l:null),options:m,class:"w-32 mb-2 mr-2",size:"md"},null,8,["modelValue"]),_(i,{modelValue:I(a),"onUpdate:modelValue":s[5]||(s[5]=l=>M(a)?a.value=l:null),options:m,class:"w-32 mb-2 mr-2",size:"lg"},null,8,["modelValue"])])])])])])}}};export{at as default};
